<Window x:Class="MaritimeERP.Desktop.Views.ShipDetailsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ship Details"
        Height="600" Width="900"
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5"
        ResizeMode="CanResize">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#1976D2" Padding="20">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸš¢" FontSize="32" VerticalAlignment="Center" Foreground="White" Margin="0,0,16,0"/>
                <StackPanel>
                    <TextBlock Text="{Binding Ship.ShipName}" FontSize="24" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="{Binding Ship.ImoNumber, StringFormat='IMO: {0}'}" FontSize="14" Foreground="#E3F2FD"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>

                <!-- Left Panel -->
                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                    <!-- Ship Information -->
                    <Border Background="White" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" Opacity="0.2" BlurRadius="8"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Ship Information" FontSize="16" FontWeight="SemiBold" Foreground="#424242" Margin="0,0,0,12"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Name:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Ship.ShipName}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Type:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Ship.ShipType}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Flag:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Ship.Flag}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Owner:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Ship.Owner}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="4" Grid.Column="0" Text="Built:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding Ship.BuildYear}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="5" Grid.Column="0" Text="Class:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="5" Grid.Column="1" Text="{Binding Ship.Class}" Foreground="#212121" Margin="0,0,0,4"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Tonnage Information -->
                    <Border Background="White" CornerRadius="8" Padding="16">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" Opacity="0.2" BlurRadius="8"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Tonnage Information" FontSize="16" FontWeight="SemiBold" Foreground="#424242" Margin="0,0,0,12"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Gross Tonnage:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Ship.GrossTonnage, StringFormat='{0:N0} GT'}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Net Tonnage:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Ship.NetTonnage, StringFormat='{0:N0} NT'}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Deadweight:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Ship.DeadweightTonnage, StringFormat='{0:N0} DWT'}" Foreground="#212121" Margin="0,0,0,4"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Right Panel -->
                <StackPanel Grid.Column="1" Margin="10,0,0,0">
                    <!-- Statistics -->
                    <Border Background="White" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" Opacity="0.2" BlurRadius="8"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Statistics" FontSize="16" FontWeight="SemiBold" Foreground="#424242" Margin="0,0,0,12"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Systems:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding SystemsCount}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Components:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding ComponentsCount}" Foreground="#212121" Margin="0,0,0,4"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Software:" FontWeight="Medium" Foreground="#616161" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding SoftwareCount}" Foreground="#212121" Margin="0,0,0,4"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Systems List -->
                    <Border Background="White" CornerRadius="8" Padding="16">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" Opacity="0.2" BlurRadius="8"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Systems" FontSize="16" FontWeight="SemiBold" Foreground="#424242" Margin="0,0,0,12"/>
                            
                            <ScrollViewer MaxHeight="250" VerticalScrollBarVisibility="Auto">
                                <ItemsControl ItemsSource="{Binding Systems}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="1" 
                                                    CornerRadius="4" Padding="8" Margin="0,0,0,4">
                                                <StackPanel>
                                                    <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="12"/>
                                                    <TextBlock Text="{Binding Manufacturer}" FontSize="10" Foreground="#757575"/>
                                                    <TextBlock Text="{Binding Components.Count, StringFormat='Components: {0}'}" 
                                                               FontSize="10" Foreground="#1976D2" Margin="0,2,0,0"/>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </ScrollViewer>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="2" Background="White" BorderThickness="0,1,0,0" BorderBrush="#E0E0E0" Padding="16,12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" Text="{Binding Ship.UpdatedAt, StringFormat='Last updated: {0:g}'}" 
                           FontSize="11" Foreground="#757575" VerticalAlignment="Center"/>
                
                <Button Grid.Column="1" Content="Close" Click="Close_Click"
                        Background="#1976D2" Foreground="White" BorderThickness="0"
                        Padding="20,8" FontSize="12" FontWeight="Medium"/>
            </Grid>
        </Border>
    </Grid>
</Window> 